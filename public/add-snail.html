<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üêå Add/Edit Snail</title>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>
  <header>
    <div class="container">
      <h1>üêå <a href="app.html" style="color: white; text-decoration: none;">Snail Tracker</a></h1>
    </div>
  </header>
  
  <main class="container">
    <div class="card" style="max-width: 600px; margin: 40px auto;">
      <h2 id="pageTitle">Add New Snail</h2>
      
      <form id="snailForm">
        <div class="form-group">
          <label for="name">Name *</label>
          <input type="text" id="name" placeholder="e.g., Speedy, Shelly" required>
        </div>
        
        <div class="form-group">
          <label for="species">Species Tag</label>
          <input type="text" id="species" placeholder="Garden snail" value="Garden snail">
        </div>
        
        <div class="form-group">
          <label for="notes">Notes</label>
          <textarea id="notes" placeholder="Any special characteristics or observations..."></textarea>
        </div>
        
        <div class="form-group">
          <label for="images">Reference Images * (at least 1 required)</label>
          <input type="file" id="images" accept="image/*" capture="environment" multiple>
          <div id="imagePreview" class="image-preview"></div>
        </div>
        
        <div class="card" style="background-color: var(--accent-color); margin: 20px 0;">
          <h3>AI Age Estimation <span class="ai-badge">AI</span></h3>
          <p style="margin-bottom: 15px; font-size: 0.95rem;">
            Upload an image first, then click "Estimate Age" to let AI guess your snail's age!
          </p>
          
          <button type="button" id="estimateAgeBtn" class="btn-secondary" disabled>
            Estimate Age
          </button>
          
          <div id="ageResult" class="hidden" style="margin-top: 20px; padding: 15px; background: white; border-radius: 8px;">
            <div class="form-group">
              <label for="ageLabel">Age</label>
              <select id="ageLabel">
                <option value="">Not estimated</option>
                <option value="juvenile">Juvenile (young/small)</option>
                <option value="adult">Adult (medium/mature)</option>
                <option value="old">Old (large/aged)</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="ageExplanation">Explanation</label>
              <textarea id="ageExplanation" placeholder="Why this age?"></textarea>
            </div>
            
            <div class="form-group">
              <label for="ageConfidence">Confidence</label>
              <select id="ageConfidence">
                <option value="">Unknown</option>
                <option value="low">Low</option>
                <option value="medium">Medium</option>
                <option value="high">High</option>
              </select>
            </div>
          </div>
        </div>
        
        <div id="errorMessage" class="message message-error hidden"></div>
        <div id="successMessage" class="message message-success hidden"></div>
        
        <div class="flex gap-10">
          <button type="submit" id="saveBtn" class="btn">Save Snail</button>
          <a href="app.html" class="btn-secondary">Cancel</a>
        </div>
      </form>
    </div>
  </main>
  
  <script src="config.js"></script><!-- Optional: Create this file from config.example.js -->
  <script src="js/api.js"></script>
  <script src="js/add-snail.js"></script>
</body>
</html>
